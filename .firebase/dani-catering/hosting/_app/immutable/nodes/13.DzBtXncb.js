import{s as ye,e as G,a as k,c as V,b as M,p as Ne,g as C,f as u,q,i as c,h as w,k as He,w as te,x as Me,y as je,z as ne,t as I,d as S,j as Te,v as oe}from"../chunks/scheduler.D6wPCbXW.js";import{S as Ae,i as Fe,c as m,b as _,m as g,t as d,a as h,d as b,f as se}from"../chunks/index.rrPC56Ks.js";import{u as ze,c as Be,a as Ie,b as Je,G as Ye,s as Re,W as Ke,g as Qe,d as Se}from"../chunks/firebase.N-yeFzkF.js";import{S as Pe,a as De}from"../chunks/events.CJC5TgCa.js";import{g as ae}from"../chunks/entry.BHaU7kt2.js";import{B as ie}from"../chunks/index.BFF8PE4x.js";import{C as Xe,a as Ze,b as xe,c as Ge,d as Ve}from"../chunks/card-title.BD-7R_cA.js";import{L as re,I as le}from"../chunks/label.BjwVYCUA.js";function et(r){let e,n=r[17].displayName+"",s;return{c(){e=I("Hey, "),s=I(n)},l(a){e=S(a,"Hey, "),s=S(a,n)},m(a,t){c(a,e,t),c(a,s,t)},p(a,t){t&131072&&n!==(n=a[17].displayName+"")&&Te(s,n)},d(a){a&&(u(e),u(s))}}}function tt(r){let e;return{c(){e=I("You are already logged in. Choose an option below.")},l(n){e=S(n,"You are already logged in. Choose an option below.")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function nt(r){let e,n,s,a;return e=new Ge({props:{class:"text-2xl",$$slots:{default:[et]},$$scope:{ctx:r}}}),s=new Ve({props:{$$slots:{default:[tt]},$$scope:{ctx:r}}}),{c(){m(e.$$.fragment),n=k(),m(s.$$.fragment)},l(t){_(e.$$.fragment,t),n=C(t),_(s.$$.fragment,t)},m(t,l){g(e,t,l),c(t,n,l),g(s,t,l),a=!0},p(t,l){const i={};l&393216&&(i.$$scope={dirty:l,ctx:t}),e.$set(i);const f={};l&262144&&(f.$$scope={dirty:l,ctx:t}),s.$set(f)},i(t){a||(d(e.$$.fragment,t),d(s.$$.fragment,t),a=!0)},o(t){h(e.$$.fragment,t),h(s.$$.fragment,t),a=!1},d(t){t&&u(n),b(e,t),b(s,t)}}}function st(r){let e;return{c(){e=I("Sign Up")},l(n){e=S(n,"Sign Up")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function at(r){let e;return{c(){e=I("Enter your information to create an account")},l(n){e=S(n,"Enter your information to create an account")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function rt(r){let e,n,s,a;return e=new Ge({props:{class:"text-xl",$$slots:{default:[st]},$$scope:{ctx:r}}}),s=new Ve({props:{$$slots:{default:[at]},$$scope:{ctx:r}}}),{c(){m(e.$$.fragment),n=k(),m(s.$$.fragment)},l(t){_(e.$$.fragment,t),n=C(t),_(s.$$.fragment,t)},m(t,l){g(e,t,l),c(t,n,l),g(s,t,l),a=!0},p(t,l){const i={};l&262144&&(i.$$scope={dirty:l,ctx:t}),e.$set(i);const f={};l&262144&&(f.$$scope={dirty:l,ctx:t}),s.$set(f)},i(t){a||(d(e.$$.fragment,t),d(s.$$.fragment,t),a=!0)},o(t){h(e.$$.fragment,t),h(s.$$.fragment,t),a=!1},d(t){t&&u(n),b(e,t),b(s,t)}}}function lt(r){let e,n,s,a;return e=new Pe({props:{$$slots:{default:[nt,({user:t})=>({17:t}),({user:t})=>t?131072:0]},$$scope:{ctx:r}}}),s=new De({props:{$$slots:{default:[rt]},$$scope:{ctx:r}}}),{c(){m(e.$$.fragment),n=k(),m(s.$$.fragment)},l(t){_(e.$$.fragment,t),n=C(t),_(s.$$.fragment,t)},m(t,l){g(e,t,l),c(t,n,l),g(s,t,l),a=!0},p(t,l){const i={};l&393216&&(i.$$scope={dirty:l,ctx:t}),e.$set(i);const f={};l&262144&&(f.$$scope={dirty:l,ctx:t}),s.$set(f)},i(t){a||(d(e.$$.fragment,t),d(s.$$.fragment,t),a=!0)},o(t){h(e.$$.fragment,t),h(s.$$.fragment,t),a=!1},d(t){t&&u(n),b(e,t),b(s,t)}}}function ot(r){let e;return{c(){e=I("Go to app")},l(n){e=S(n,"Go to app")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function it(r){let e;return{c(){e=I("Log out")},l(n){e=S(n,"Log out")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function ft(r){let e,n,s,a,t;n=new ie({props:{class:"w-full",$$slots:{default:[ot]},$$scope:{ctx:r}}}),n.$on("click",r[8]);function l(){return r[9](r[16])}return a=new ie({props:{variant:"outline",class:"w-full",$$slots:{default:[it]},$$scope:{ctx:r}}}),a.$on("click",l),{c(){e=G("div"),m(n.$$.fragment),s=k(),m(a.$$.fragment),this.h()},l(i){e=V(i,"DIV",{class:!0});var f=M(e);_(n.$$.fragment,f),s=C(f),_(a.$$.fragment,f),f.forEach(u),this.h()},h(){q(e,"class","grid gap-4")},m(i,f){c(i,e,f),g(n,e,null),w(e,s),g(a,e,null),t=!0},p(i,f){r=i;const v={};f&262144&&(v.$$scope={dirty:f,ctx:r}),n.$set(v);const L={};f&262144&&(L.$$scope={dirty:f,ctx:r}),a.$set(L)},i(i){t||(d(n.$$.fragment,i),d(a.$$.fragment,i),t=!0)},o(i){h(n.$$.fragment,i),h(a.$$.fragment,i),t=!1},d(i){i&&u(e),b(n),b(a)}}}function ut(r){let e;return{c(){e=I("First name")},l(n){e=S(n,"First name")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function $t(r){let e;return{c(){e=I("Last name")},l(n){e=S(n,"Last name")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function ct(r){let e;return{c(){e=I("Email")},l(n){e=S(n,"Email")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function pt(r){let e;return{c(){e=I("Password")},l(n){e=S(n,"Password")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function Le(r){let e,n;return{c(){e=G("p"),n=I(r[4]),this.h()},l(s){e=V(s,"P",{class:!0});var a=M(e);n=S(a,r[4]),a.forEach(u),this.h()},h(){q(e,"class","text-red-500 text-sm")},m(s,a){c(s,e,a),w(e,n)},p(s,a){a&16&&Te(n,s[4])},d(s){s&&u(e)}}}function mt(r){let e;return{c(){e=I("Create an account")},l(n){e=S(n,"Create an account")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function _t(r){let e;return{c(){e=I("Creating account...")},l(n){e=S(n,"Creating account...")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function gt(r){let e;function n(t,l){return t[5]?_t:mt}let s=n(r),a=s(r);return{c(){a.c(),e=oe()},l(t){a.l(t),e=oe()},m(t,l){a.m(t,l),c(t,e,l)},p(t,l){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&u(e),a.d(t)}}}function dt(r){let e;return{c(){e=I("Sign up with Google")},l(n){e=S(n,"Sign up with Google")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function ht(r){let e;return{c(){e=I("Creating account...")},l(n){e=S(n,"Creating account...")},m(n,s){c(n,e,s)},d(n){n&&u(e)}}}function bt(r){let e;function n(t,l){return t[5]?ht:dt}let s=n(r),a=s(r);return{c(){a.c(),e=oe()},l(t){a.l(t),e=oe()},m(t,l){a.m(t,l),c(t,e,l)},p(t,l){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&u(e),a.d(t)}}}function vt(r){let e,n,s,a,t,l,i,f,v,L,R,N,K,Q,O,U,X,P,p,T,D,W,fe,y,ue,$e,Z,j,ce,H,x,A,ge=`Already have an account?
          <a href="/login" class="underline">Log in</a>`,ee,pe,de;a=new re({props:{for:"first-name",$$slots:{default:[ut]},$$scope:{ctx:r}}});function qe(o){r[10](o)}let he={id:"first-name",placeholder:"First name",required:!0};r[0]!==void 0&&(he.value=r[0]),l=new le({props:he}),te.push(()=>se(l,"value",qe)),L=new re({props:{for:"last-name",$$slots:{default:[$t]},$$scope:{ctx:r}}});function Oe(o){r[11](o)}let be={id:"last-name",placeholder:"Last name",required:!0};r[1]!==void 0&&(be.value=r[1]),N=new le({props:be}),te.push(()=>se(N,"value",Oe)),U=new re({props:{for:"email",$$slots:{default:[ct]},$$scope:{ctx:r}}});function Ue(o){r[12](o)}let ve={id:"email",type:"email",placeholder:"m@example.com",required:!0};r[2]!==void 0&&(ve.value=r[2]),P=new le({props:ve}),te.push(()=>se(P,"value",Ue)),W=new re({props:{for:"password",$$slots:{default:[pt]},$$scope:{ctx:r}}});function We(o){r[13](o)}let we={id:"password",type:"password",required:!0};r[3]!==void 0&&(we.value=r[3]),y=new le({props:we}),te.push(()=>se(y,"value",We));let E=r[4]&&Le(r);return j=new ie({props:{type:"submit",class:"w-full",disabled:r[5],$$slots:{default:[gt]},$$scope:{ctx:r}}}),H=new ie({props:{variant:"outline",class:"w-full",disabled:r[5],$$slots:{default:[bt]},$$scope:{ctx:r}}}),H.$on("click",r[7]),{c(){e=G("form"),n=G("div"),s=G("div"),m(a.$$.fragment),t=k(),m(l.$$.fragment),f=k(),v=G("div"),m(L.$$.fragment),R=k(),m(N.$$.fragment),Q=k(),O=G("div"),m(U.$$.fragment),X=k(),m(P.$$.fragment),T=k(),D=G("div"),m(W.$$.fragment),fe=k(),m(y.$$.fragment),$e=k(),E&&E.c(),Z=k(),m(j.$$.fragment),ce=k(),m(H.$$.fragment),x=k(),A=G("div"),A.innerHTML=ge,this.h()},l(o){e=V(o,"FORM",{class:!0});var $=M(e);n=V($,"DIV",{class:!0});var F=M(n);s=V(F,"DIV",{class:!0});var z=M(s);_(a.$$.fragment,z),t=C(z),_(l.$$.fragment,z),z.forEach(u),f=C(F),v=V(F,"DIV",{class:!0});var B=M(v);_(L.$$.fragment,B),R=C(B),_(N.$$.fragment,B),B.forEach(u),F.forEach(u),Q=C($),O=V($,"DIV",{class:!0});var J=M(O);_(U.$$.fragment,J),X=C(J),_(P.$$.fragment,J),J.forEach(u),T=C($),D=V($,"DIV",{class:!0});var Y=M(D);_(W.$$.fragment,Y),fe=C(Y),_(y.$$.fragment,Y),Y.forEach(u),$e=C($),E&&E.l($),Z=C($),_(j.$$.fragment,$),ce=C($),_(H.$$.fragment,$),$.forEach(u),x=C(o),A=V(o,"DIV",{class:!0,"data-svelte-h":!0}),Ne(A)!=="svelte-e361z0"&&(A.innerHTML=ge),this.h()},h(){q(s,"class","grid gap-2"),q(v,"class","grid gap-2"),q(n,"class","grid grid-cols-2 gap-4"),q(O,"class","grid gap-2"),q(D,"class","grid gap-2"),q(e,"class","grid gap-4"),q(A,"class","mt-4 text-center text-sm")},m(o,$){c(o,e,$),w(e,n),w(n,s),g(a,s,null),w(s,t),g(l,s,null),w(n,f),w(n,v),g(L,v,null),w(v,R),g(N,v,null),w(e,Q),w(e,O),g(U,O,null),w(O,X),g(P,O,null),w(e,T),w(e,D),g(W,D,null),w(D,fe),g(y,D,null),w(e,$e),E&&E.m(e,null),w(e,Z),g(j,e,null),w(e,ce),g(H,e,null),c(o,x,$),c(o,A,$),ee=!0,pe||(de=Me(e,"submit",je(r[6])),pe=!0)},p(o,$){const F={};$&262144&&(F.$$scope={dirty:$,ctx:o}),a.$set(F);const z={};!i&&$&1&&(i=!0,z.value=o[0],ne(()=>i=!1)),l.$set(z);const B={};$&262144&&(B.$$scope={dirty:$,ctx:o}),L.$set(B);const J={};!K&&$&2&&(K=!0,J.value=o[1],ne(()=>K=!1)),N.$set(J);const Y={};$&262144&&(Y.$$scope={dirty:$,ctx:o}),U.$set(Y);const ke={};!p&&$&4&&(p=!0,ke.value=o[2],ne(()=>p=!1)),P.$set(ke);const Ce={};$&262144&&(Ce.$$scope={dirty:$,ctx:o}),W.$set(Ce);const Ee={};!ue&&$&8&&(ue=!0,Ee.value=o[3],ne(()=>ue=!1)),y.$set(Ee),o[4]?E?E.p(o,$):(E=Le(o),E.c(),E.m(e,Z)):E&&(E.d(1),E=null);const me={};$&32&&(me.disabled=o[5]),$&262176&&(me.$$scope={dirty:$,ctx:o}),j.$set(me);const _e={};$&32&&(_e.disabled=o[5]),$&262176&&(_e.$$scope={dirty:$,ctx:o}),H.$set(_e)},i(o){ee||(d(a.$$.fragment,o),d(l.$$.fragment,o),d(L.$$.fragment,o),d(N.$$.fragment,o),d(U.$$.fragment,o),d(P.$$.fragment,o),d(W.$$.fragment,o),d(y.$$.fragment,o),d(j.$$.fragment,o),d(H.$$.fragment,o),ee=!0)},o(o){h(a.$$.fragment,o),h(l.$$.fragment,o),h(L.$$.fragment,o),h(N.$$.fragment,o),h(U.$$.fragment,o),h(P.$$.fragment,o),h(W.$$.fragment,o),h(y.$$.fragment,o),h(j.$$.fragment,o),h(H.$$.fragment,o),ee=!1},d(o){o&&(u(e),u(x),u(A)),b(a),b(l),b(L),b(N),b(U),b(P),b(W),b(y),E&&E.d(),b(j),b(H),pe=!1,de()}}}function wt(r){let e,n,s,a;return e=new Pe({props:{$$slots:{default:[ft,({signOut:t})=>({16:t}),({signOut:t})=>t?65536:0]},$$scope:{ctx:r}}}),s=new De({props:{$$slots:{default:[vt]},$$scope:{ctx:r}}}),{c(){m(e.$$.fragment),n=k(),m(s.$$.fragment)},l(t){_(e.$$.fragment,t),n=C(t),_(s.$$.fragment,t)},m(t,l){g(e,t,l),c(t,n,l),g(s,t,l),a=!0},p(t,l){const i={};l&327680&&(i.$$scope={dirty:l,ctx:t}),e.$set(i);const f={};l&262207&&(f.$$scope={dirty:l,ctx:t}),s.$set(f)},i(t){a||(d(e.$$.fragment,t),d(s.$$.fragment,t),a=!0)},o(t){h(e.$$.fragment,t),h(s.$$.fragment,t),a=!1},d(t){t&&u(n),b(e,t),b(s,t)}}}function kt(r){let e,n,s,a;return e=new Ze({props:{$$slots:{default:[lt]},$$scope:{ctx:r}}}),s=new xe({props:{$$slots:{default:[wt]},$$scope:{ctx:r}}}),{c(){m(e.$$.fragment),n=k(),m(s.$$.fragment)},l(t){_(e.$$.fragment,t),n=C(t),_(s.$$.fragment,t)},m(t,l){g(e,t,l),c(t,n,l),g(s,t,l),a=!0},p(t,l){const i={};l&262144&&(i.$$scope={dirty:l,ctx:t}),e.$set(i);const f={};l&262207&&(f.$$scope={dirty:l,ctx:t}),s.$set(f)},i(t){a||(d(e.$$.fragment,t),d(s.$$.fragment,t),a=!0)},o(t){h(e.$$.fragment,t),h(s.$$.fragment,t),a=!1},d(t){t&&u(n),b(e,t),b(s,t)}}}function Ct(r){let e,n,s="Dani's Catering 🍆",a,t,l;return t=new Xe({props:{class:"mx-auto max-w-sm",$$slots:{default:[kt]},$$scope:{ctx:r}}}),{c(){e=G("main"),n=G("h1"),n.textContent=s,a=k(),m(t.$$.fragment),this.h()},l(i){e=V(i,"MAIN",{class:!0});var f=M(e);n=V(f,"H1",{class:!0,"data-svelte-h":!0}),Ne(n)!=="svelte-91va7p"&&(n.textContent=s),a=C(f),_(t.$$.fragment,f),f.forEach(u),this.h()},h(){q(n,"class","p-4 text-3xl font-semibold"),q(e,"class","flex flex-1 flex-col gap-4 p-4 lg:gap-6 lg:p-6 h-screen items-center justify-center")},m(i,f){c(i,e,f),w(e,n),w(e,a),g(t,e,null),l=!0},p(i,[f]){const v={};f&262207&&(v.$$scope={dirty:f,ctx:i}),t.$set(v)},i(i){l||(d(t.$$.fragment,i),l=!0)},o(i){h(t.$$.fragment,i),l=!1},d(i){i&&u(e),b(t)}}}function Et(r,e,n){let s;He(r,ze,p=>n(14,s=p));let a="",t="",l="",i="",f="",v=!1;async function L(){n(5,v=!0);try{const p=await Be(Ie,l,i),T=await p.user.getIdToken(),D=await fetch("/api/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:T})});await Je(p.user,{displayName:`${a} ${t}`}),await N(!1),n(4,f=""),ae("/staff")}catch(p){console.error("Error signing up with email/password:",p),n(4,f=p.message)}finally{n(5,v=!1)}}async function R(){n(5,v=!0);const p=new Ye;try{const D=await(await Re(Ie,p)).user.getIdToken(),W=await fetch("/api/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:D})});n(4,f=""),await N(!0),ae("/staff")}catch(T){console.error("Error signing up with Google:",T),n(4,f=T.message)}finally{n(5,v=!1)}}async function N(p){const T=Ke(Se);T.set(Qe(Se,"users",s.uid),{email:p?s.email:l,name:p?s.displayName:`${a} ${t}`,role:"staff",isCheckedIn:!1,lastCheckIn:null}),await T.commit()}const K=()=>{ae("/staff")},Q=async p=>{await fetch("/api/signin",{method:"DELETE"}),await p(),ae("/login")};function O(p){a=p,n(0,a)}function U(p){t=p,n(1,t)}function X(p){l=p,n(2,l)}function P(p){i=p,n(3,i)}return[a,t,l,i,f,v,L,R,K,Q,O,U,X,P]}class Vt extends Ae{constructor(e){super(),Fe(this,e,Et,Ct,ye,{})}}export{Vt as component};
